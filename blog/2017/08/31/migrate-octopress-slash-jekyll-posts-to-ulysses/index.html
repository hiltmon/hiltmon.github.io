<!doctype html><html><head>
<link rel=stylesheet href=/css/main.css>
<link rel=stylesheet href=/css/all.css>
<link rel=stylesheet href=/css/fusion.css>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic" rel=stylesheet type=text/css>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<title>Migrate Octopress / Jekyll Posts to Ulysses</title>
</head>
<body>
<div id=container><header id=header>
<img id=logo src=/images/hiltmon-logo-174.png>
<h1 id=title><a href=/>Hiltmon</a></h1>
<h2 id=sub-title>On walkabout in life and technology</h2>
</header>
<nav id=menu>
<ul>
<li>
<a href=/about/ title="about me">About</a>
</li>
<li>
<a href=/code/ title=code>Code</a>
</li>
<li>
<a href=/products/ title=products>Products</a>
</li>
<li>
<a href=/ title="blog section">Blog</a>
</li>
<li>
<a href=/archives/ title="archives section">Archives</a>
</li>
</ul>
</nav>
<section id=content>
<p class=meta-data>
<span class=post-date>Aug 31, 2017 7:49 AM</span>
</p>
<h1 class=post-title>
Migrate Octopress / Jekyll Posts to Ulysses
</h1>
<div class=post-body>
<p>I wanted to move my published writing stashed in my Octopress/Jekyll site into my current writing workflow environment, <a href=https://ulyssesapp.com>Ulysses</a>. Dragging and dropping the files from the <code>_posts</code> folder was not an option, because:</p>
<ul>
<li>The file names were messy</li>
<li>There is no title in the file, it&rsquo;s in the Markdown metadata</li>
<li>I wanted to keep the publication date on the imported files</li>
</ul>
<p>So, I wrote a <em>horrible</em> script to do it.</p>
<p>The script takes a <code>_posts</code> Octopress or Jekyll folder and processes each file into an <code>OUT_PATH</code> as a set of clean Markdown files, making a few changes along the way. Itâ€™s a mix of Ruby to handle the YAML front matter and shell commands to do the actual work. And it runs as follows:</p>
<ul>
<li>For each file in the <code>IN_PATH</code></li>
<li>Parse the YAML front matter to get the title and publish date</li>
<li>Create a new file using the title and write a Markdown H1 to it</li>
<li>Append the existing file data to the new file</li>
<li>Depending on how the publish date is formatted (old was a string, new is a time), <em>touch</em> the new file to set the original publish date</li>
</ul>
<p>After that, I just dragged and dropped the Markdown files into Ulysses which kept the formatting and dates.</p>
<p>The script itself is below. <em>Its terrible and you dare not use it.</em> But maybe it has some ideas to help you run your own conversion.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#000;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ruby data-lang=ruby><span style=color:#0f0>#!/usr/bin/env ruby</span>

require <span style=color:#87ceeb>&#39;rubygems&#39;</span>
require <span style=color:#87ceeb>&#39;yaml&#39;</span>
require <span style=color:#87ceeb>&#39;time&#39;</span>
  
<span style=color:#0f0># IN_PATH = &#34;/Users/hiltmon/Projects/Personal/HiltmonDotCom/source/_posts/&#34;</span>
<span style=color:#0f0># IN_PATH = &#34;/Users/hiltmon/Projects/Personal/NoverseDotCom/code/noverse/source/_posts/&#34;</span>
<span style=color:#7fffd4>IN_PATH</span> = <span style=color:#87ceeb>&#34;/Users/hiltmon/Downloads/_posts/&#34;</span>
<span style=color:#7fffd4>OUT_PATH</span> = <span style=color:#87ceeb>&#34;/Users/hiltmon/Desktop/Blog/&#34;</span>

<span style=color:#7fffd4>Dir</span>.new(<span style=color:#7fffd4>IN_PATH</span>).each <span style=color:red>do</span> |path|
  <span style=color:red>next</span> <span style=color:red>if</span> path =~ <span style=color:#87ceeb>/^\./</span>
  
  basename = <span style=color:#7fffd4>File</span>.basename(path)
  puts <span style=color:#87ceeb>&#34;Processing </span><span style=color:#87ceeb>#{</span>basename<span style=color:#87ceeb>}</span><span style=color:#87ceeb>...&#34;</span>

  posthead = <span style=color:#7fffd4>YAML</span>.load_file(<span style=color:#7fffd4>IN_PATH</span> + path)
  title = posthead[<span style=color:#87ceeb>&#39;title&#39;</span>].sub(<span style=color:#87ceeb>&#34;&#39;&#34;</span>, <span style=color:#87ceeb>&#39;&#39;</span>)
  
  <span style=color:#0f0># Create a new file and add the H1</span>
  cmd2 = <span style=color:#87ceeb>&#34;echo </span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb># </span><span style=color:#87ceeb>#{</span>posthead[<span style=color:#87ceeb>&#39;title&#39;</span>].strip<span style=color:#87ceeb>}</span><span style=color:#87ceeb>\n\&#34;</span><span style=color:#87ceeb> &gt; </span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>#{</span><span style=color:#7fffd4>OUT_PATH</span> + title<span style=color:#87ceeb>}</span><span style=color:#87ceeb>.md</span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>&#34;</span>
  <span style=color:#87ceeb>%x{</span><span style=color:#87ceeb>#{</span>cmd2<span style=color:#87ceeb>}</span><span style=color:#87ceeb>}</span>
  
  <span style=color:#0f0># Append the original Markdown</span>
  cmd1 = <span style=color:#87ceeb>&#34;cat </span><span style=color:#87ceeb>#{</span><span style=color:#7fffd4>IN_PATH</span> + path<span style=color:#87ceeb>}</span><span style=color:#87ceeb> &gt;&gt; </span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>#{</span><span style=color:#7fffd4>OUT_PATH</span> + title<span style=color:#87ceeb>}</span><span style=color:#87ceeb>.md</span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>&#34;</span>
  <span style=color:#87ceeb>%x{</span><span style=color:#87ceeb>#{</span>cmd1<span style=color:#87ceeb>}</span><span style=color:#87ceeb>}</span>
  
  <span style=color:#0f0># Mess with the file time</span>
  <span style=color:red>if</span> posthead[<span style=color:#87ceeb>&#39;date&#39;</span>].is_a?(<span style=color:#7fffd4>Time</span>)
    cmd3 = <span style=color:#87ceeb>&#34;touch -t </span><span style=color:#87ceeb>#{</span>posthead[<span style=color:#87ceeb>&#39;date&#39;</span>].strftime(<span style=color:#87ceeb>&#34;%Y%m%d%H%M&#34;</span>)<span style=color:#87ceeb>}</span><span style=color:#87ceeb> </span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>#{</span><span style=color:#7fffd4>OUT_PATH</span> + title<span style=color:#87ceeb>}</span><span style=color:#87ceeb>.md</span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>&#34;</span>
    <span style=color:#87ceeb>%x{</span><span style=color:#87ceeb>#{</span>cmd3<span style=color:#87ceeb>}</span><span style=color:#87ceeb>}</span>
  <span style=color:red>else</span>
    file_date = <span style=color:#7fffd4>Time</span>.parse(posthead[<span style=color:#87ceeb>&#39;date&#39;</span>])
  
    cmd3 = <span style=color:#87ceeb>&#34;touch -t </span><span style=color:#87ceeb>#{</span>file_date.strftime(<span style=color:#87ceeb>&#34;%Y%m%d%H%M&#34;</span>)<span style=color:#87ceeb>}</span><span style=color:#87ceeb> </span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>#{</span><span style=color:#7fffd4>OUT_PATH</span> + title<span style=color:#87ceeb>}</span><span style=color:#87ceeb>.md</span><span style=color:#87ceeb>\&#34;</span><span style=color:#87ceeb>&#34;</span>
    <span style=color:#87ceeb>%x{</span><span style=color:#87ceeb>#{</span>cmd3<span style=color:#87ceeb>}</span><span style=color:#87ceeb>}</span>
  <span style=color:red>end</span>
<span style=color:red>end</span>
</code></pre></div><p>The result:</p>
<figure><img src=images/blog-in-ulysses.jpg width=550 height=278>
</figure>
<p><em>Follow the author as <a href=https://twitter.com/hiltmon>@hiltmon</a> on Twitter.</em></p>
</div>
<p class=post-mark>
<span class="fas fa-envelope"></span>
<span>Posted By Hilton Lipschitz</span>
&#183;
<span class="fas fa-clock"></span>
<span>Aug 31, 2017 7:49 AM</span>
</p>
<div class=pagination>
<ul>
<li class=post-previous><a href=https://hiltmon.github.io/blog/2018/06/17/stop-and-think/>&larr; Stop and Think</a></li>
<li class=post-center>&nbsp;</li>
<li class=post-next><a href=https://hiltmon.github.io/blog/2017/03/12/notification-city/>Notification City &rarr;</a></li>
</ul>
</div>
</section><aside id=sidebar>
<section>
<h1>The Hiltmon Dot Com</h1>
<p><strong>Hilton Lipschitz</strong> (<a href=https://twitter.com/hiltmon>@hiltmon</a>) is CTO of an up and coming Hedge Fund, who loves to craft brilliant and delightful web, iPhone, iPad and Macintosh software products. Before this he was an independent software consultant, designer and developer at <a href=http://www.noverse.com>Noverse LLC</a>.</p>
</section><section>
<h1>Recent Posts</h1>
<ul>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2020/06/07/working-from-home-88-days-later/>Working from Home ... 88 Days Later</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2020/03/14/working-from-home-dot-dot-dot-here-we-go/>Working from Home ... here we go!</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2019/12/31/the-theater-was-empty/>The Theater was Empty</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2019/02/16/an-ipad-and-a-pencil/>An iPad and a Pencil</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2019/02/09/testing-c-plus-plus-17-project-in-xcode-with-xctest/>Testing C++17 Projects in Xcode with XCTest</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2018/06/17/on-removing-comments/>On Removing Comments</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2018/06/17/stop-and-think/>Stop and Think</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2017/08/31/migrate-octopress-slash-jekyll-posts-to-ulysses/>Migrate Octopress / Jekyll Posts to Ulysses</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2017/03/12/notification-city/>Notification City</a></li>
<li><a class=sidebar-link href=https://hiltmon.github.io/blog/2017/03/05/coding-style-standards-in-2017/>Coding Style Standards in 2017</a></li>
</ul>
<section></aside><footer id=footer>
<p>Copyright &copy; 2022 Hilton Lipschitz</p>
</footer></div>
</body>
</html>