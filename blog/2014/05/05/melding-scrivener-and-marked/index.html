<!doctype html><html><head><meta charset=utf-8><meta name=keywords content><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFJ7SZKLR0"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFJ7SZKLR0",{anonymize_ip:!1})}</script><meta name=robots content="index,follow"><link rel=stylesheet href=https://hiltmon.com/css/main.css><link rel=stylesheet href=https://hiltmon.com/css/all.css><link rel=stylesheet href=https://hiltmon.com/css/carbon.css><link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic' rel=stylesheet type=text/css><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script><title>Melding Scrivener and Marked</title></head><body><div id=container><header id=header><img id=logo src=https://hiltmon.com/images/hiltmon-logo-174.png><h1 id=title><a href=https://hiltmon.com/>Hiltmon</a></h1><h2 id=sub-title>On walkabout in life and technology</h2></header><nav id=menu><ul><li><a href=https://hiltmon.com/about/ title="about me">About</a></li><li><a href=https://hiltmon.com/ title="blog section">Blog</a></li><li><a href=https://hiltmon.com/code/ title=code>Code</a></li><li><a href=https://hiltmon.com/tags/ title="tags section">Tags</a></li><li><a href=https://hiltmon.com/archives/ title="archives section">Archives</a></li></ul></nav><section id=content><p class=meta-data><span class=post-date>May 5, 2014 8:07 PM</span></p><div class=tag-group><div class=tag><span class=tag-text>| <a href=https://hiltmon.com/tags/markdown>Markdown</a></span></div><div class=tag><span class=tag-text>| <a href=https://hiltmon.com/tags/scrivener>Scrivener</a></span></div></div><h1 class=post-title>Melding Scrivener and Marked</h1><div class=post-body><p>If you are a regular reader of this blog, you will know that I do all my writing using <a href=https://hiltmon.com/blog/2012/02/20/the-markdown-mindset/>Markdown</a> format, short-form in <a href=http://bywordapp.com>Byword</a>, long-form in <a href=http://www.literatureandlatte.com/scrivener.php>Scrivener</a> and generate the final document using <a href=http://marked2app.com>Marked</a>.</p><p>In short: I write all my work documents, including letters, reports and software documentation in Markdown formatted text files and then format them using Marked and a standard stylesheet (See <a href=https://hiltmon.com/blog/2013/05/23/letterhead-markdown-style/>Letterhead - Markdown Style</a> for how that works). See <a href=https://hiltmon.com/blog/2014/04/27/the-markdown-payoff/>The Markdown Payoff</a> for why.</p><p>In this post, I will share how I set up and use Scrivener and Marked <em>melded</em> together for larger, more complex documents <strong>at work</strong> and why.</p><h3 id=why-these-tools>Why these tools?</h3><p>Just in case you are new to the products, the reasons I use <a href=http://marked2app.com>Marked</a> include:</p><ul><li>I can preview any document I write as it happens in the format it will be generated in, while not spending any time actually formatting it.</li><li>I only had to set up that format CSS once (and save it as a Marked template). From then on, all my documents gained a consistent form, look and feel.</li><li>I can export the same document into a myriad of formats with ease.</li></ul><p>The reasons I love <a href=http://www.literatureandlatte.com/scrivener.php>Scrivener</a> include:</p><ul><li>I can just write, I do not have to worry about format.</li><li>I can reorganize and restructure longer documents easily.</li><li>I can store research and notes inside the same document file.</li><li>It has a corkboard to remind me what goes in each section of a standard business document.</li><li>I have full control over all aspects of the content and final deliverable.</li><li>And it too can output the final document in any format.</li></ul><p><strong>Why together, then?</strong></p><p>Since I already write everything in Markdown, and have the stylesheet already set up in Marked, I prefer to use these products side-by-side to produce consistent quality results. From a small 1 page letter or memo or a 25 page specification, they all come out looking consistent.</p><h3 id=how-i-use-the-meld>How I use the meld?</h3><h4 id=while-writing>While Writing</h4><p>While I am writing the document, I write using Markdown format in Scrivener. I create a folder for each section and a scrivening for each sub-section. I use the corkboard in Scrivener to note what content should go into what sub-section.</p><figure><img src=images/meld-scrivener-overview.png width=600 height=450></figure><p>This structure enables me to (a) focus on that sub-section alone, and (b) to never lose sight of the structure of the document and be able to navigate around easily. <em>Note that I only write the sub-section title once as the document title, and will display and change it later.</em></p><figure><img src=images/meld-scrivener-write.png width=600 height=450></figure><p>When I feel I have finished writing a section, and have proof-read it a few times in Scrivener, I like to preview it in Marked. Just seeing the same content rendered the way it will turn out helps me see if and where more work is needed.</p><figure><img src=images/meld-marked-preview.png width=600 height=450></figure><p>If this does not look the same to you, never fear, I&rsquo;ll show you how to get set it up so that it does below.</p><h4 id=after-writing>After Writing</h4><p>Once I have completed writing the document, I use Scrivener&rsquo;s compiler to create the final Markdown document file. This I then open in Marked and produce the final PDF, ePub or web page.</p><figure><img src=images/meld-marked-final.png width=600 height=450></figure><p>You may note that this final processing has added images and outline numbering for me (compare this to the previous image). I&rsquo;ll show you how to do this too.</p><h2 id=so-how-does-the-meld-work>So how does the meld work?</h2><p>In order to make the meld as seamless and as simple as possible, you need to configure a document folder and both products accordingly.</p><h3 id=preparation>Preparation</h3><h4 id=install-multimarkdown>Install MultiMarkdown</h4><p>In order to access Scrivener&rsquo;s <code>MultiMarkdown</code> compiler, you need to have MultiMarkdown installed. This is really easy to do.</p><ol><li>Go to Fletcher Penney&rsquo;s <a href=http://fletcherpenney.net/multimarkdown/download/>MultiMarkdown Downloads Page</a> and download the <strong>Mac Installer</strong>.</li><li>After it downloads, go to your <strong>Downloads</strong> folder and double-click the <code>.zip</code> file to expand it.</li><li>Double-click the installer icon, and follow the instructions to complete the install.</li></ol><h4 id=prepare-the-document-folder>Prepare the Document Folder</h4><p>I do this because it makes it easier to add images to the Scrivener document and see them in Preview and Final <em>without</em> document changes. You&rsquo;ll see how it works.</p><p>I create a folder for the document and two sub-folders, <code>images</code> and <code>markdown</code>. I place all the images the document needs in the <code>images</code> folder.</p><figure><img src=images/meld-folder-structure.png width=600 height=226></figure><p>In this case, the <code>Star Trek Systems Design</code> is the Scrivener document in the <strong>Star Trek Systems Design</strong> folder. Below it are two images in the <strong>images</strong> folder, <code>enterprise.png</code> and <code>okudagram.png</code>. There is nothing in the <strong>markdown</strong> folder, yet.</p><h3 id=scrivener-setup-and-tips>Scrivener Setup and Tips</h3><p>I use a monospaced font with no indent while writing in Markdown. This gives the the feel of working in plain text and gets rid of any Markdown issues with indents.</p><figure><img src=images/meld-document-setup.png width=595 height=445></figure><p>You can download the brilliant <a href=http://www.google.com/fonts#UsePlace:use/Collection:Cousine>Cousine Font from Google here</a>. Just click the down arrow, then <code>.zip file</code> to download, double-click the <code>.zip</code> file in <strong>Downloads</strong> to expand the file and drag all files (except the <code>.txt</code>) file into FontBook.<figure class=image-right><img src=images/meld-no-smart-quotes.png width=246 height=211></figure>You may have to restart Scrivener to see this new font.</p><p>You also need to disable <strong>Use smart quotes (" &ldquo;)</strong> in the Corrections tab as (a) Marked takes care of this and (b) you may need to put some raw HTML in (or image attributes) and smart quotes cause this to fail.</p><p><strong>And what about markdown image references?</strong> Since we can&rsquo;t use Scrivener <code>$img</code> tags here as we&rsquo;re writing Markdown, we need working Markdown image references so we can preview in Marked <em>while</em> writing. The &ldquo;trick&rdquo; for image references is to point them to the images folder as follows:</p><pre><code>![Enterprise](../images/enterprise.png)
</code></pre><p>Note the <code>../images</code> before the file name, it is needed.</p><p>If you need to add HTML attributes to the image, use a reference link (I leave them in the same scrivening):</p><pre><code>![Enterprise][enterprise-image]

[enterprise-image]:	../images/enterprise.png width=&quot;75%&quot;
</code></pre><p>This is why we turned smart quotes off.</p><p>If you now open the Scrivener document in Marked, you will see it in the style you prefer, <em>with images</em>.</p><figure><img src=images/meld-marked-with-images.png width=600 height=450></figure><p><strong>To complete the document and set heading numbers?</strong></p><p>Since all my business documents need automatic heading numbers, I set them up in Scrivener&rsquo;s compile options.</p><p>Choose <strong>File / Compile&mldr;</strong> or press ⌥⌘E. Click the <strong>Formatting</strong> option and tick off the title for all document levels, we want them included. Also, set the <strong>Compile For</strong> to <code>MultiMarkdown</code>.</p><figure><img src=images/meld-compile-layout.png width=578 height=472></figure><figure class=image-right><img src=images/meld-heading-numbers.png width=300 height=267></figure><p>Then, <em>for each row</em>, click <strong>Section Layout&mldr;</strong>. Type in</p><pre><code>&lt;$hn&gt;⇥
</code></pre><p>That&rsquo;s <code>&lt;$hn>TAB</code> in the Prefix box.</p><p>This will tell the Scrivener compiler to put heading numbering in for each title. <strong>You must do this for each level.</strong> <em>You only have to do this the first time, after this Scrivener remembers these settings in your document.</em></p><p>Hit <strong>Compile</strong> and Save the result into the <strong>Markdown</strong> folder. You need to do this in the correct folder so that image links work (and in my case so I do not get confused between the final Markdown file and the in-progress Scrivener file).</p><figure><img src=images/meld-save-to-markdown.png width=605 height=389></figure><p>You can now open the final document in Marked for some final touches.</p><h3 id=marked-setup-and-tips>Marked Setup and Tips</h3><figure class=image-right><img src=images/meld-marked-behavior.png width=329 height=482></figure><p>While editing in Scrivener and previewing the Scrivener file in Marked, you want the following settings enables in <strong>Marked Preferences</strong>:</p><ul><li>&ldquo;Smart&rdquo; typography turned on to fix smart quotes</li><li>Include document titles as Markdown headers so you see them</li><li>Open .scriv files in Scrivener when opened in Marked</li></ul><p>This allows you to preview the Scrivener document in Marked as it would appear when exported.</p><p>You can also set your preferred stylesheet in the <strong>Style</strong> tab to save time when previewing the document.</p><p><strong>Update:</strong> This post was written for Marked 1, it still works with Marked 2. But if you have the App Store version, you will need to give Marked permission to access your hard drive to retrieve images. Go to <strong>Preferences</strong> / <strong>Advanced</strong> and click on <strong>Update Permissions</strong> to enable. <span class=light>(Thanks to reader George Entenman (@zabouti) for the tip.)</span></p><p><strong>Any settings for the final exported Markdown document?</strong></p><p>I like to have the document name and page numbers at the bottom of the page when I print. In <strong>Printing</strong>, I set the Bottom-Left to <code>%title</code> and the Bottom-Right to <code>Page %page of %total</code> and changed the font to match the style. I also check the <strong>Border / Below Header</strong> and <strong>Border / Above Footer</strong> as I prefer a line there. Click <strong>Save & Apply</strong> to save your changes.</p><figure><img src=images/meld-marked-footer.png width=569 height=510></figure><p>To print the final document, click the <strong>Export Drawer</strong> in Marked or press ⌘⇧E and click the <strong>Paginated PDF</strong> to generate the final PDF file.</p><figure><img src=images/meld-marked-print.png width=614 height=472></figure><p>And there you have it, a formatted, paginated version of your complex Scrivener document.</p><h2 id=using-the-meld>Using the meld</h2><p>It sure looks like a lot of work to get this set up and working, but when you do a lot of these, the setup become easy. Create your first document like this, and for the next, you only need to change the font and compile settings in Scrivener once. After that, it should all just work.</p><p>I create a lot of larger, complex business documents this way in <a href=http://www.literatureandlatte.com/scrivener.php>Scrivener</a>. It allows me to focus on the content and structure and yet generate a consistent document format each time using <a href=http://marked2app.com>Marked</a>.</p><p><em>Follow the author as <a href=https://twitter.com/hiltmon>@hiltmon</a> on Twitter and <a href=http://alpha.app.net/hiltmon>@hiltmon</a> on App.Net. <code>Mute </code>#xpost` on one.</em></p></div><p class=post-mark><span class="fas fa-envelope"></span>
<span>Posted By Hilton Lipschitz</span>
&#183;
<span class="fas fa-clock"></span>
<span>May 5, 2014 8:07 PM</span></p><div class=pagination><ul><li class=post-previous><a href=https://hiltmon.com/blog/2014/05/23/solve-tab-hell-with-fluid-and-choosyosx/>&larr; Solve Tab Hell with Fluid and ChoosyOSX</a></li><li class=post-center>&nbsp;</li><li class=post-next><a href=https://hiltmon.com/blog/2014/04/27/the-markdown-payoff/>The Markdown Payoff &rarr;</a></li></ul></div></section><aside id=sidebar><script async type=text/javascript src="//cdn.carbonads.com/carbon.js?serve=CKYI52JE&placement=hiltmoncom" id=_carbonads_js></script><section><div id=carbonads></div>&nbsp;</section><section><h1>The Hiltmon Dot Com</h1><p><strong>Hilton Lipschitz</strong> (<a href=https://twitter.com/hiltmon>@hiltmon</a>) an independent software consultant, architect, designer and developer at <a href=https://noverse.com>Noverse LLC</a> (his own small business).</p><p>For the past 22 years he has specialized in the architecture, design, development, operations and trading of bespoke comprehensive front-to-back, multi-asset, <em>automated and algorithmic</em> trading, portfolio management and asset management systems to enable and grow three asset managers.</p><p><a href=https://twitter.com/hiltmon>Twitter</a> &#183;
<a href=https://github.com/hiltmon>Github</a> &#183;
<a href=https://www.linkedin.com/in/hiltmon/>LinkedIn</a> &#183;
<a href=https://hiltmon.com/index.xml>RSS</a></p></section><section><h1>Recent Posts</h1><ul><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/08/22/optimizing-short-form-writing-for-developers/>Optimizing Short Form Writing for Developers</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/08/10/code-review-is-not-all-about-the-code/>Code Review is not all about the Code</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/06/07/working-from-home-88-days-later/>Working from Home ... 88 Days Later</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/03/14/working-from-home-dot-dot-dot-here-we-go/>Working from Home ... here we go!</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/12/31/the-theater-was-empty/>The Theater was Empty</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/16/an-ipad-and-a-pencil/>An iPad and a Pencil</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/09/testing-c-plus-plus-17-project-in-xcode-with-xctest/>Testing C++17 Projects in Xcode with XCTest</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2018/06/17/on-removing-comments/>On Removing Comments</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2018/06/17/stop-and-think/>Stop and Think</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2017/08/31/migrate-octopress-slash-jekyll-posts-to-ulysses/>Migrate Octopress / Jekyll Posts to Ulysses</a></li></ul><section></aside><footer id=footer><p>Copyright &copy; 2022 Hilton Lipschitz</p></footer></div></body></html>