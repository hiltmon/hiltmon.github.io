<!doctype html><html><head><meta charset=utf-8><meta name=keywords content><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFJ7SZKLR0"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFJ7SZKLR0",{anonymize_ip:!1})}</script><meta name=robots content="index,follow"><link rel=stylesheet href=https://hiltmon.com/css/main.css><link rel=stylesheet href=https://hiltmon.com/css/all.css><link rel=stylesheet href=https://hiltmon.com/css/carbon.css><link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic' rel=stylesheet type=text/css><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script><title>Quick Process Search</title></head><body><div id=container><header id=header><img id=logo src=https://hiltmon.com/images/hiltmon-logo-174.png><h1 id=title><a href=https://hiltmon.com/>Hiltmon</a></h1><h2 id=sub-title>On walkabout in life and technology</h2></header><nav id=menu><ul><li><a href=https://hiltmon.com/about/ title="about me">About</a></li><li><a href=https://hiltmon.com/code/ title=code>Code</a></li><li><a href=https://hiltmon.com/ title="blog section">Blog</a></li><li><a href=https://hiltmon.com/archives/ title="archives section">Archives</a></li></ul></nav><section id=content><p class=meta-data><span class=post-date>Jul 30, 2013 7:45 PM</span></p><div class=tag-group><div class=tag><span class=tag-text>| <a href=https://hiltmon.com/tags/tips-and-tricks>tips-and-tricks</a></span></div><div class=tag><span class=tag-text>| <a href=https://hiltmon.com/tags/unix>unix</a></span></div></div><h1 class=post-title>Quick Process Search</h1><div class=post-body><p>I am forever starting and running background UNIX tasks, either manually or via <code>cron</code> jobs. And I am forever checking to see if they are running or not.</p><p>The usual command <em>I used to use</em> see if a process was running is</p><pre><code>ps ax | grep bash
</code></pre><p>Where <code>bash</code> is the process that may or may not be running. It gives (headers added):</p><pre><code>  PID TTY         TIME    CMD
  411 ttys000    0:00.04 -/bin/bash
  615 ttys001    0:00.04 -/bin/bash
  773 ttys001    0:00.00 grep bash
</code></pre><p>There are some issues with this:</p><ol><li>For long commands with redirections in them, it truncates the command at the width of the terminal (80 columns).</li><li>I invariably then go looking at other utilities for memory or CPU usage, so there&rsquo;s not enough information.</li><li>The <code>grep</code> itself is found, adding another line to the output.</li><li>Too much to type all the time, I am lazy.</li></ol><p>A better version is:</p><pre><code>ps auxwww | grep bash
</code></pre><p>This gives user, pid, memory and CPU as well as the full command line (headers added):</p><pre><code>USER             PID  %CPU %MEM      VSZ    RSS   TT  STAT STARTED      TIME COMMAND
hiltmon          411   0.0  0.0  2433436   1600 s000  Ss    7:44PM   0:00.04 -/bin/bash
hiltmon          768   0.0  0.0  2432768    596 s001  R+    7:52PM   0:00.00 grep bash
hiltmon          615   0.0  0.0  2433436   1604 s001  Ss    7:48PM   0:00.04 -/bin/bash
</code></pre><p>Much better. But even harder to type. And it <em>still</em> contains the <code>grep</code> line.</p><p>So I created a <code>bash</code> function in my <code>.bash_profile</code> to make it easier:</p><pre><code># PS with a grep
function psax() {
	ps auxwww | grep &quot;$@&quot;  | grep -v grep
}
</code></pre><p>Now I just type:</p><pre><code>psax bash
</code></pre><p>to get a nice clean result:</p><pre><code>hiltmon          411   0.0  0.0  2433436   1600 s000  Ss    7:44PM   0:00.04 -/bin/bash
hiltmon          615   0.0  0.0  2433436   1604 s001  Ss    7:48PM   0:00.04 -/bin/bash
</code></pre><p><strong>Top tip:</strong> A lot of people use this to get the <code>pid</code>&rsquo;s of processes in order to kill them. All distributions now come with the <code>killall</code> command, so it is even easier:</p><pre><code>killall stunnel
</code></pre><p>Kills all known instances of <code>stunnel</code> that you <em>can</em> kill.</p><p>The <code>psax</code> function has been added to all my logins, and I use it a lot!</p><p><em>Follow the author as <a href=https://twitter.com/hiltmon>@hiltmon</a> on Twitter and <a href=http://alpha.app.net/hiltmon>@hiltmon</a> on App.Net. Mute <code>#xpost</code> on one.</em></p></div><p class=post-mark><span class="fas fa-envelope"></span>
<span>Posted By Hilton Lipschitz</span>
&#183;
<span class="fas fa-clock"></span>
<span>Jul 30, 2013 7:45 PM</span></p><div class=pagination><ul><li class=post-previous><a href=https://hiltmon.com/blog/2013/08/04/unreasonable/>&larr; Unreasonable</a></li><li class=post-center>&nbsp;</li><li class=post-next><a href=https://hiltmon.com/blog/2013/07/28/laravel-4-textmate-bundle/>Laravel 4 Blade TextMate Bundle &rarr;</a></li></ul></div></section><aside id=sidebar><script async type=text/javascript src="//cdn.carbonads.com/carbon.js?serve=CKYI52JE&placement=hiltmoncom" id=_carbonads_js></script><section><div id=carbonads></div>&nbsp;</section><section><h1>The Hiltmon Dot Com</h1><p><strong>Hilton Lipschitz</strong> (<a href=https://twitter.com/hiltmon>@hiltmon</a>) is CTO of an up and coming Hedge Fund, who loves to craft brilliant and delightful web, iPhone, iPad and Macintosh software products. Before this he was an independent software consultant, designer and developer at <a href=https://noverse.com>Noverse LLC</a>.</p><p><a href=https://twitter.com/hiltmon>Twitter</a> &#183;
<a href=https://github.com/hiltmon>Github</a> &#183;
<a href=https://www.linkedin.com/in/hiltmon/>LinkedIn</a> &#183;
<a href=https://hiltmon.com/index.xml>RSS</a></p></section><section><h1>Recent Posts</h1><ul><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/08/10/code-review-is-not-all-about-the-code/>Code Review is not all about the Code</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/06/07/working-from-home-88-days-later/>Working from Home ... 88 Days Later</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/03/14/working-from-home-dot-dot-dot-here-we-go/>Working from Home ... here we go!</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/12/31/the-theater-was-empty/>The Theater was Empty</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/16/an-ipad-and-a-pencil/>An iPad and a Pencil</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/09/testing-c-plus-plus-17-project-in-xcode-with-xctest/>Testing C++17 Projects in Xcode with XCTest</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2018/06/17/on-removing-comments/>On Removing Comments</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2018/06/17/stop-and-think/>Stop and Think</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2017/08/31/migrate-octopress-slash-jekyll-posts-to-ulysses/>Migrate Octopress / Jekyll Posts to Ulysses</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2017/03/12/notification-city/>Notification City</a></li></ul><section></aside><footer id=footer><p>Copyright &copy; 2022 Hilton Lipschitz</p></footer></div></body></html>