<!doctype html><html><head><meta charset=utf-8><meta name=keywords content><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZFJ7SZKLR0"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZFJ7SZKLR0",{anonymize_ip:!1})}</script><meta name=robots content="index,follow"><link rel=stylesheet href=https://hiltmon.com/css/main.css><link rel=stylesheet href=https://hiltmon.com/css/all.css><link rel=stylesheet href=https://hiltmon.com/css/carbon.css><link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic' rel=stylesheet type=text/css><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script><title>Google Analytics for Status Board Server Edition</title></head><body><div id=container><header id=header><img id=logo src=https://hiltmon.com/images/hiltmon-logo-174.png><h1 id=title><a href=https://hiltmon.com/>Hiltmon</a></h1><h2 id=sub-title>On walkabout in life and technology</h2></header><nav id=menu><ul><li><a href=https://hiltmon.com/about/ title="about me">About</a></li><li><a href=https://hiltmon.com/ title="blog section">Blog</a></li><li><a href=https://hiltmon.com/code/ title=code>Code</a></li><li><a href=https://hiltmon.com/tags/ title="tags section">Tags</a></li><li><a href=https://hiltmon.com/archives/ title="archives section">Archives</a></li></ul></nav><section id=content><p class=meta-data><span class=post-date>May 30, 2013 4:59 PM</span></p><div class=tag-group><div class=tag><span class=tag-text>| <a href=https://hiltmon.com/tags/status-board>Status Board</a></span></div></div><h1 class=post-title>Google Analytics for Status Board Server Edition</h1><div class=post-body><p><span class=light>Google has finally deprecated their GAPI interface which this used to talk to Google Analytics, sorry folks, it will no longer work. See the <a href=https://hiltmon/com/blog/2015/06/07/new-google-analytics-for-status-board-server-edition/>New Google Analytics for Status Board Server Edition</a> for an updated version.</span></p><p>Dropbox went down today, and I found out when my <a href="https://itunes.apple.com/us/app/status-board/id449955536?mt=8&uo=4&at=10l894">Status Board</a> stopped updating. This spurred me on to migrate my <a href=https://hiltmon/com/blog/2013/04/10/google-analytics-for-status-board/>Google Analytics for Status Board</a> scripts from Ruby and Dropbox over to server based PHP. <span class=light>Huge thanks to <a href=http://www.carlfranzon.com/2013/04/google-analytics-panel-for-status-board/>Carl Franzon</a> for the starter code.</span></p><p><strong>Warning: This version of the scripts requires PHP v5.3. It also uses a hacked version of the Google GAPI library that runs against the Google v2.4 API. The current Google API is v3, but that requires complex OAuth2 access, which is a pain in the <em>gazoot</em> to implement. <span class=light>Expect Google to deprecate the old API, probably tomorrow and without notice.</span></strong></p><h2 id=quick-install-instructions>Quick Install Instructions</h2><ol><li>Download the <a href=https://hiltmon/com/files/statusboard.zip>statusboard.zip</a> file.</li><li>Expand it in the root of your web server. It creates a <code>statusboard</code> folder.</li><li>Edit each of the <code>analytics_*.php</code> files with your login and password.</li><li>The URL to use in Status Board is <code>http://&lt;your-domain>/statusboard/analytics_&lt;file>.php</code>, replacing <code>&lt;your-domain></code> with your server domain name, and <code>&lt;file></code> with one of <code>views</code> (graph), <code>hourly</code> (graph) or <code>pages</code> (table).</li></ol><p>You should get something like this <span class=light>(Yes, my follower count is still tiny. Yes, I live in New York, but I still use Celsius for weather.)</span>:</p><figure><img src=images/status-board-ga-2.jpg width=715 height=537></figure><h2 id=details>Details</h2><p>There are four files in the archive:</p><ul><li><code>analytics_views.php</code> to present a graph of Page views, Visitors and New Visits for the past week for a site.</li><li><code>analytics_hourly.php</code> to present the same data over the last 24 hours.</li><li><code>analytics_pages.php</code> to show the top pages today.</li><li><code>gapi.class.php</code> is required to access Google Analytics, but this one has been hacked to use the v2.4 API.</li></ul><p>For each of the <code>analytics_*.php</code> pages, change the first few lines with your own information:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#000>define</span>(<span style=color:#c41a16>&#39;ga_email&#39;</span>,<span style=color:#c41a16>&#39;hiltmon@gmail.com&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#000>define</span>(<span style=color:#c41a16>&#39;ga_password&#39;</span>,<span style=color:#c41a16>&#39;i_aint_sayin&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#000>define</span>(<span style=color:#c41a16>&#39;which_profile&#39;</span>,<span style=color:#1c01ce>0</span>); <span style=color:#177500>// The first profile
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>define</span>(<span style=color:#c41a16>&#39;days_to_report&#39;</span>, <span style=color:#1c01ce>7</span>); <span style=color:#177500>// No of days excluding today!
</span></span></span><span style=display:flex><span><span style=color:#177500></span><span style=color:#000>define</span>(<span style=color:#c41a16>&#39;ga_title&#39;</span>,<span style=color:#c41a16>&#39;Hiltmon.com Stats&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#000>date_default_timezone_set</span>(<span style=color:#c41a16>&#39;America/New_York&#39;</span>);
</span></span></code></pre></div><p>If you have more than one Google Analytics profile (i.e. more than one site), you may need to change the profile, with 0 being the first profile in your list. I also recommend setting the timezone to your server timezone so that you don&rsquo;t fill your web logs with PHP errors.</p><p>Why choose these technologies?</p><ul><li><p>I chose to use PHP, <span class=light>which I intensely despise</span>, because that&rsquo;s the language most likely to be enabled on your web host. As it is on mine.</p></li><li><p>I used the GAPI library because it works <em>without</em> OAuth. <span class=light>For now.</span></p></li></ul><p>If you&rsquo;d prefer a more modern and robust approach, stick to the previous Ruby and Dropbox workflow at <a href=https://hiltmon.com/blog/2013/04/10/google-analytics-for-status-board/>Google Analytics for Status Board</a>.</p><p><em>Follow the author as <a href=https://twitter.com/hiltmon>@hiltmon</a> on Twitter and <a href=http://alpha.app.net/hiltmon>@hiltmon</a> on App.Net. Mute <code>#xpost</code> on one.</em></p></div><p class=post-mark><span class="fas fa-envelope"></span>
<span>Posted By Hilton Lipschitz</span>
&#183;
<span class="fas fa-clock"></span>
<span>May 30, 2013 4:59 PM</span></p><div class=pagination><ul><li class=post-previous><a href=https://hiltmon.com/blog/2013/06/01/sharing-reminder-lists/>&larr; Sharing Reminder Lists</a></li><li class=post-center>&nbsp;</li><li class=post-next><a href=https://hiltmon.com/blog/2013/05/28/sanity-saver-ticks-and-crosses/>Sanity Saver - Ticks and Crosses &rarr;</a></li></ul></div></section><aside id=sidebar><script async type=text/javascript src="//cdn.carbonads.com/carbon.js?serve=CKYI52JE&placement=hiltmoncom" id=_carbonads_js></script><section><div id=carbonads></div>&nbsp;</section><section><h1>The Hiltmon Dot Com</h1><p><strong>Hilton Lipschitz</strong> (<a href=https://twitter.com/hiltmon>@hiltmon</a>) an independent software consultant, architect, designer and developer at <a href=https://noverse.com>Noverse LLC</a> (his own small business).</p><p>For the past 22 years he has specialized in the architecture, design, development, operations and trading of bespoke comprehensive front-to-back, multi-asset, <em>automated and algorithmic</em> trading, portfolio management and asset management systems to enable and grow three asset managers.</p><p><a href=https://twitter.com/hiltmon>Twitter</a> &#183;
<a href=https://github.com/hiltmon>Github</a> &#183;
<a href=https://www.linkedin.com/in/hiltmon/>LinkedIn</a> &#183;
<a href=https://hiltmon.com/index.xml>RSS</a></p></section><section><h1>Recent Posts</h1><ul><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/10/04/hiltmonism-discoverability-is-deserved/>Discoverability Is Deserved</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/09/13/what-did-i-create-as-an-asset-manager-cto/>What Did I Create as an Asset Manager CTO</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/08/22/optimizing-short-form-writing-for-developers/>Optimizing Short Form Writing for Developers</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2022/08/10/code-review-is-not-all-about-the-code/>Code Review is not all about the Code</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/06/07/working-from-home-88-days-later/>Working from Home ... 88 Days Later</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2020/03/14/working-from-home-dot-dot-dot-here-we-go/>Working from Home ... here we go!</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/12/31/the-theater-was-empty/>The Theater was Empty</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/16/an-ipad-and-a-pencil/>An iPad and a Pencil</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2019/02/09/testing-c-plus-plus-17-project-in-xcode-with-xctest/>Testing C++17 Projects in Xcode with XCTest</a></li><li><a class=sidebar-link href=https://hiltmon.com/blog/2018/06/17/on-removing-comments/>On Removing Comments</a></li></ul><section></aside><footer id=footer><p>Copyright &copy; 2022 Hilton Lipschitz</p></footer></div></body></html>